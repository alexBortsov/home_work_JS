<!DOCTYPE html>
<html lang="ru">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>ATM</title>
</head>

<body>
   <script>
      atm();
      function atm() {
         alert('You are welcomed by MY BANK, on your account 1001 UAH.')
         const cardBalance = 1001;
         function randomNumber(min = 0, max = 10) {
            return Math.round(min + Math.random() * (max - min));
         }
         let random = randomNumber(1, 7);
         console.log(random);
         console.log(typeof random);
         while (true) {
            const money = +prompt('Please enter the amount you want to withdraw (available banknotes in denominations: 5, 10, 20, 50, 100, 200)');
            if (cardBalance > money && money !== 0 && money >= 5) {
               const banknoteFive = 5;
               const banknoteTen = 10;
               const banknoteTwenty = 20;
               const banknoteFifty = 50;
               const banknoteHundred = 100;
               const banknoteTwoHundred = 200;
               let sumTwoHundred, sumHundred, sumFifty, sumTwenty, sumTen, sumFive;
               let countTwoHundredRandom = randomNumber(1, 2);
               let countTwoHundred = Math.floor(money / banknoteTwoHundred);
               if (countTwoHundredRandom < countTwoHundred) {
                  sumTwoHundred = countTwoHundredRandom * banknoteTwoHundred;
                  countTwoHundred = countTwoHundredRandom;
               }else if(countTwoHundredRandom >= countTwoHundred){
                  sumTwoHundred = countTwoHundred * banknoteTwoHundred;
               }else{
                  sumTwoHundred = 0;
               }
               let countHundredRandom = randomNumber(1, 2);
               let countHundred = Math.floor((money - sumTwoHundred) / banknoteHundred);
               if (countHundredRandom < countHundred) {
                  sumHundred = countHundredRandom * banknoteHundred;
                  countHundred = countHundredRandom;
               }else if (countHundredRandom >= countHundred ) {
                  sumHundred = countHundred * banknoteHundred;
               }else{
                  sumHundred = 0;
               }
               let countFiftyRandom = randomNumber(1, 1);
               let countFifty = Math.floor((money - (sumTwoHundred + sumHundred)) / banknoteFifty);
               if (countFiftyRandom < countFifty) {
                  sumFifty = countFiftyRandom * banknoteFifty;
                  countFifty = countFiftyRandom;
               }else if (countFiftyRandom >= countFifty) {
                  sumFifty = countFifty * banknoteFifty;
               }else{
                  sumFifty = 0;
               }
               let countTwentyRandom = randomNumber(1, 1);
               let countTwenty = Math.floor((money - (sumTwoHundred + sumHundred + sumFifty)) / banknoteTwenty);
               if (countTwentyRandom < countTwenty) {
                  sumTwenty = countTwentyRandom * banknoteTwenty;
                  countTwenty = countTwentyRandom;
               } else if (countTwentyRandom >= countTwenty){
                  sumTwenty = countTwenty * banknoteTwenty;
               }else{
                  sumTwenty = 0;
               }
               let countTenRandom = randomNumber(1, 1);
               let countTen = Math.floor((money - (sumTwoHundred + sumHundred + sumFifty + sumTwenty)) / banknoteTen);
               if (countTenRandom < countTen) {
                  sumTen = countTenRandom * banknoteTen;
                  countTen = countTenRandom;
               } else if (countTenRandom >= countTen){
                  sumTen = countTen * banknoteTen;
               }else{
                  sumTen = 0;
               }
               let countFiveRandom = randomNumber(1, 2);
               let countFive = Math.floor((money - (sumTwoHundred + sumHundred + sumFifty + sumTwenty + sumTen)) / banknoteFive);
               if (countFiveRandom < countFive) {
                  sumFive = countFiveRandom * banknoteFive;
                  countFive = countFiveRandom;
               } else if (countFiveRandom >= countFive){
                  sumFive = countFive * banknoteFive;
               }else{
                  sumFive =  0;
               }
               let issued = sumTwoHundred  + sumHundred + sumFifty + sumTwenty + sumTen + sumFive;
               
               let residue = Math.floor(money - issued);
               let balance = cardBalance - issued;
               console.log('money: ' + money);
               console.log('banknote 200: ' + countTwoHundred);
               console.log('banknote 100: ' + countHundred);
               console.log('banknote 50: ' + countFifty);
               console.log('banknote 20: ' + countTwenty);
               console.log('banknote 10: ' + countTen);
               console.log('banknote 5: ' + countFive);
               console.log('sumQuery: ' + issued);
               console.log('cardBalance: ' + balance);
               document.write('<style>.container{width:25%;margin:0 auto;border:1px solid #000;text-align:center;border-radius:15px;display:flex;align-items:center;justify-content:center;flex-direction:column}.check__menu-list{width:100%;display:flex;align-items:flex-start;justify-content:center;flex-direction:column;list-style-type:none}.check__hr{border:2px dotted #000;width:98%}</style><div class=container><h4>Thank you!</h4><hr class=check__hr><h1 class=check__title>MY BANK</h1><hr class=check__hr><h3 class=check__balance>Card balance: ' + `${balance} UAH.` + '<span class=check__balance_hr></span></h3><hr class=check__hr><ul class=check__menu-list><li class=check__menu-item>5 UAH. : ' + `${countFive} bills` + '<li class=check__menu-item>10 UAH. : ' + `${countTen} bills` + '<li class=check__menu-item>20 UAH. : ' + `${countTwenty} bills` + '<li class=check__menu-item>50 UAH. : ' + `${countFifty} bills` + '<li class=check__menu-item>100 UAH. : ' + `${countHundred} bills` + '<li class=check__menu-item>200 UAH. : ' + `${countTwoHundred} bills` + '</ul><hr class=check__hr><h3 class=check__amount>AMOUNT ISSUED: ' + `${issued} UAH.` + '</h3><h3 class=check__amount>ATM could not issue: ' + `${residue} UAH.` + '</h3></div>')
               break;
            }
            if (money > cardBalance) { alert('You have entered an amount greater than your account!'); }
            if (money < 5 && money !== 0) { alert('You have entered an amount less than the face value of the banknotes in the ATM!'); }
            if (money === 0) { alert('You have not entered the amount, goodbye!'); break; }
         }
      }
   
   </script>
</body>

</html>